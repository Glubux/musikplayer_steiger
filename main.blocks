<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</variable><variable id="n@,*=QfzdyQ;w`!p-/:]">Melodie</variable><variable id="Z2++PNI=k1LV1]xRYY(/">Song-Anzahl</variable></variables><block type="pxt-on-start" id="DGT?2t^]MC12]TeR{#kp" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="5Qxbe,j.EEBS$V;Lps!W"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field><comment pinned="false" h="256" w="390">Steuerung = 0 -&gt; Ton aus
Steuerung = 1 bis 4 -&gt; beginne Melodie 1 bis 4
Steuerung = 99 -&gt; die Musik läuft bereits</comment><value name="VALUE"><shadow type="math_number" id="%W5!d4!)dn67i@JFC:w/"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="!*BQdiW1RDjwsk,+k.s}"><field name="VAR" id="n@,*=QfzdyQ;w`!p-/:]">Melodie</field><comment pinned="false" h="237" w="314">Diese Variable wird von 1 bis 4 einzeln erhöht und dann wieder auf 1 gesetzt. Sie "weiss" immer, welches das nächste Lied ist.</comment><value name="VALUE"><shadow type="math_number" id="aE_bV@*J4t^tV_d7:tB-"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="Vfh38F(5G9A430OD/PV9"><field name="VAR" id="Z2++PNI=k1LV1]xRYY(/">Song-Anzahl</field><value name="VALUE"><shadow type="math_number" id="Q!#C$l%J}UXLCVFwk:|="><field name="NUM">4</field></shadow></value></block></next></block></next></block></statement></block><block type="device_forever" id=";1%9e$Nmlh1tq-3EobsA" x="525" y="1"><statement name="HANDLER"><block type="controls_if" id=";/nYnKJHX#gG+99Ws:4?"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="p7tpZ}##/`DWk;laIuI@"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="+Br~_ww)j8Qy2/[BwfhC"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field></block></value><value name="B"><shadow type="math_number" id="lHVXLK6qzqZ]1!%$qQ1T"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="device_start_melody" id="{QD|F:j1s@yN00{WRz|a"><field name="options">MelodyOptions.Once</field><value name="melody"><block type="device_builtin_melody" id="DItl@xQ[IdT0K6mL$Xm:"><field name="melody">Melodies.Prelude</field></block></value><next><block type="variables_set" id="O-;}/jF2;o+l5=FMJa^*"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field><comment pinned="false" h="250" w="357">Würde die Variable Steuerung hier nicht verändert, würde das Lied "Präludium" alle paar Millisekunden neu beginnen, da dann immer noch Steuerung ==1 erfüllt wäre und die wenn-Bedingungen immer wieder neu abgefragt werden (äusserer Block ist "dauerhaft", d.h. ständige Wiederholung der Befehle darin).
</comment><value name="VALUE"><shadow type="math_number" id="ErK3IiHuB7Aus];fI-[p"><field name="NUM">99</field></shadow></value></block></next></block></statement><value name="IF1"><block type="logic_compare" id="P#Ke?X?Q,?(LS=DO1jj."><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="ggw?MQ)-lK!rwCA-AIXe"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field></block></value><value name="B"><shadow type="math_number" id="XpB?5P}E5:HviKYAMUrw"><field name="NUM">2</field></shadow></value></block></value><statement name="DO1"><block type="device_start_melody" id="7bz)lUG`R|_96Zk-AawH"><field name="options">MelodyOptions.Once</field><value name="melody"><block type="device_builtin_melody" id="vjfoCs:m;X=ynga!$jPx"><field name="melody">Melodies.Ode</field></block></value><next><block type="variables_set" id="cXQs6HM)z(lA9/|yaY@P"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field><value name="VALUE"><shadow type="math_number" id=":_a;V@[?%k415J=s/.hO"><field name="NUM">99</field></shadow></value></block></next></block></statement><value name="IF2"><block type="logic_compare" id="WW}|qOL}.aPo[cWe@}Hb"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="6*dimMgVJuGn0z]Vi}wr"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field></block></value><value name="B"><shadow type="math_number" id="7$a!XyY?xV,jCiVNvd^C"><field name="NUM">3</field></shadow></value></block></value><statement name="DO2"><block type="device_start_melody" id="IIuFJ+D4R?D8;7eJ`lH("><field name="options">MelodyOptions.Once</field><value name="melody"><block type="device_builtin_melody" id="Jq`[wru)NM+:[$5nTnmY"><field name="melody">Melodies.Funk</field></block></value><next><block type="variables_set" id="{/}#S)JXN3$2CX!V/;d~"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field><value name="VALUE"><shadow type="math_number" id="pF}__a/.dg1wZ%HDvz_="><field name="NUM">99</field></shadow></value></block></next></block></statement><value name="IF3"><block type="logic_compare" id="{emK;BaPuAq/EREyvWCm"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="VU:CAV?d{-miX1)CcsKi"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field></block></value><value name="B"><shadow type="math_number" id="s3wOG?(Nvp:uyoL;GVlr"><field name="NUM">4</field></shadow></value></block></value><statement name="DO3"><block type="device_start_melody" id="QcBPy:T;u?6xiYsmP]#D"><field name="options">MelodyOptions.Once</field><value name="melody"><block type="device_builtin_melody" id="`1.=[2dU$6MmIBj46IwD"><field name="melody">Melodies.Wedding</field></block></value><next><block type="variables_set" id="sRI?Xfg(a+c2crikhBIW"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field><value name="VALUE"><shadow type="math_number" id="R$jjVc7f33T]s`RE)ZV6"><field name="NUM">99</field></shadow></value></block></next></block></statement></block></statement></block><block type="device_button_event" id="WRI%v5o7qBH22Z^QD8eT" x="-1" y="242"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="controls_if" id="k.tNg~tFzkjzAc9a+`ts"><mutation else="1"></mutation><comment pinned="false" h="324" w="450">Hier wird die Musik gestartet oder gestoppt, je nach dem, was aktuell in der Variable Steuerung drin steht (s. Kommentare oben beim "Beim Start"-Block.</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="?U7i::9iM!?]{qeE5JHO"><field name="OP">EQ</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="W$0#kM!z1=b20=m59m0@"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field></block></value><value name="B"><shadow type="math_number" id="?`Ui_,7rNP{z%R1zSsl@"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="F:EbU77u@[!yuaL9pY~M"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="_V09t=oe9`+#}jrp5|R5"><field name="VAR" id="n@,*=QfzdyQ;w`!p-/:]">Melodie</field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="2s|!zO}xze:7w*?GDyno"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field><value name="VALUE"><shadow type="math_number" id="9o3xwvVeblf7$6k%i?Fc"><field name="NUM">0</field></shadow></value><next><block type="device_stop_melody" id="8Ox#FdnS*8)2X,Lnmr|I"><field name="options">MelodyStopOptions.All</field></block></next></block></statement></block></statement></block><block type="device_button_event" id="-I;/AMmg5h6mOzl6i.3k" x="-1" y="627"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="controls_if" id="WY]e2SusI`:ti,(Hz)9E"><mutation else="1"></mutation><comment pinned="false" h="265" w="394">Hier wird die Melodievariable um eins erhöht, wenn Knopf B gerückt wird. Ist man am Ende (letztes Lied), so wird die Variable auf 1 zurückgesetzt ("beginne Playlist von vorne").</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=")+uT+@{5Y:5)y`~r^U5("><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="1IJ*p^3x31siM877N/t%"><field name="VAR" id="n@,*=QfzdyQ;w`!p-/:]">Melodie</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">2</field></shadow><block type="variables_get" id="zApSiBs|NAkJb4bBb6@w"><field name="VAR" id="Z2++PNI=k1LV1]xRYY(/">Song-Anzahl</field></block></value></block></value><statement name="DO0"><block type="variables_change" id="W1c;ep|T1Ah!M/TAtaNH"><field name="VAR" id="n@,*=QfzdyQ;w`!p-/:]">Melodie</field><value name="VALUE"><shadow type="math_number" id="`BHezBmdCo@H-MTXi3o,"><field name="NUM">1</field></shadow></value></block></statement><statement name="ELSE"><block type="variables_set" id="|b4*LLmT#h%{M)rf+tgq"><field name="VAR" id="n@,*=QfzdyQ;w`!p-/:]">Melodie</field><value name="VALUE"><shadow type="math_number" id="I?!%BJ17CK,PWX2^mN^-"><field name="NUM">1</field></shadow></value></block></statement><next><block type="controls_if" id="5PaypGY|;VWg~:|ku%K/"><comment pinned="false" h="222" w="428">Wenn bereits ein Lied läuft (d.h. Steuerung ==99 ist), dann wird direkt die Variable Steuerung auf die neue Melodie gesetzt (z.B. 4). So beginnt auch während des Abspielens des letzten Liedes sofort das neue.
Gäbe es diesen Wenn-Block nicht, so würde während des Abspielens nicht auf das neue Lied gewechselt.</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="mNg%=4t-`,eR4_pwkd=d"><field name="OP">EQ</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="|ZvZqB5ysG.E|b9%ywVc"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field></block></value><value name="B"><shadow type="math_number" id="KGH(_:e@B5fS]9I7R^Y]"><field name="NUM">99</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id=";X.~r683bt%dC:0=GlFO"><field name="VAR" id="9dDmJnbQe6NBQmx*LlQ/">Steuerung</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="2,Nnx^m@xg3KQQo{[dBZ"><field name="VAR" id="n@,*=QfzdyQ;w`!p-/:]">Melodie</field></block></value></block></statement></block></next></block></statement></block></xml>